{"ast":null,"code":"var _jsxFileName = \"E:\\\\Appstectasks\\\\React Projects\\\\demo\\\\src\\\\components\\\\ImageApi\\\\ImageApi.jsx\";\nimport React, { Component } from 'react';\nimport Image from '../Image/Image';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ImageApi extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = e => {\n      this.setState({\n        query: e.target.value\n      });\n    };\n    this.getData = async () => {\n      const apiKey = \"21c52fdd78d8bda4bcb6af63df51d6a6\";\n      try {\n        let response = await fetch(`https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&tags=${this.state.query}&per_page=10&format=json&nojsoncallback=1`);\n        let responseData = await response.json();\n        let url = responseData.photos.photo.map(image => {\n          const url = {\n            id: image.id,\n            url: `https://farm${image.farm}.staticflickr.com/${image.server}/${image.id}_${image.secret}.jpg`\n          };\n          return url;\n        });\n        this.setState({\n          imageArray: url,\n          query: \"\"\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    this.state = {\n      query: \"\",\n      imageArray: []\n    };\n  }\n  render() {\n    let imageData = this.state.imageArray.map(photo => {\n      return /*#__PURE__*/_jsxDEV(Image, {\n        link: photo.url\n      }, photo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 14\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"child-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.query,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.getData,\n          children: \"generate image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image\",\n        children: imageData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n}\n// 21c52fdd78d8bda4bcb6af63df51d6a6\n//f4ca7c9a8059c487\n//https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&tags=${query}&per_page=24&format=json&nojsoncallback=1","map":{"version":3,"names":["React","Component","Image","jsxDEV","_jsxDEV","ImageApi","constructor","props","handleChange","e","setState","query","target","value","getData","apiKey","response","fetch","state","responseData","json","url","photos","photo","map","image","id","farm","server","secret","imageArray","err","console","log","render","imageData","link","fileName","_jsxFileName","lineNumber","columnNumber","className","children","type","onChange","onClick"],"sources":["E:/Appstectasks/React Projects/demo/src/components/ImageApi/ImageApi.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport Image from '../Image/Image';\r\n\r\nexport default class ImageApi extends Component {\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      query: \"\",\r\n      imageArray : []\r\n    };\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n        query: e.target.value\r\n    })\r\n}\r\n    getData = async () => {\r\n    const apiKey = \"21c52fdd78d8bda4bcb6af63df51d6a6\";\r\n   \r\n    try {\r\n      \r\n      let response = await fetch(\r\n        `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&tags=${this.state.query}&per_page=10&format=json&nojsoncallback=1`\r\n      );\r\n      let responseData = await response.json();\r\n      let url = responseData.photos.photo.map((image) => {\r\n        const url = {\r\n          id: image.id,\r\n          url: `https://farm${image.farm}.staticflickr.com/${image.server}/${image.id}_${image.secret}.jpg`\r\n        };\r\n        return url;\r\n      });\r\n      this.setState({ imageArray: url ,query:\"\"});\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n \r\n  render() {\r\n     let imageData = this.state.imageArray.map((photo) => {\r\n      return <Image key={photo.id} link={photo.url} />;\r\n    });\r\n    return (\r\n      <div className='main-container'>\r\n        <div className='child-container'>\r\n        <input type=\"text\" value={this.state.query} onChange={this.handleChange}/>\r\n        <button onClick={this.getData}>generate image</button>\r\n        </div>\r\n        <div className='image'>{imageData}</div>\r\n        \r\n      </div>\r\n   \r\n    )\r\n  }\r\n}\r\n// 21c52fdd78d8bda4bcb6af63df51d6a6\r\n//f4ca7c9a8059c487\r\n//https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&tags=${query}&per_page=24&format=json&nojsoncallback=1\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,eAAe,MAAMC,QAAQ,SAASJ,SAAS,CAAC;EAChDK,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAC,KAOfC,YAAY,GAAIC,CAAC,IAAK;MACpB,IAAI,CAACC,QAAQ,CAAC;QACVC,KAAK,EAAEF,CAAC,CAACG,MAAM,CAACC;MACpB,CAAC,CAAC;IACN,CAAC;IAAA,KACGC,OAAO,GAAG,YAAY;MACtB,MAAMC,MAAM,GAAG,kCAAkC;MAEjD,IAAI;QAEF,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CACvB,6EAA4EF,MAAO,SAAQ,IAAI,CAACG,KAAK,CAACP,KAAM,2CAC/G,CAAC;QACD,IAAIQ,YAAY,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;QACxC,IAAIC,GAAG,GAAGF,YAAY,CAACG,MAAM,CAACC,KAAK,CAACC,GAAG,CAAEC,KAAK,IAAK;UACjD,MAAMJ,GAAG,GAAG;YACVK,EAAE,EAAED,KAAK,CAACC,EAAE;YACZL,GAAG,EAAG,eAAcI,KAAK,CAACE,IAAK,qBAAoBF,KAAK,CAACG,MAAO,IAAGH,KAAK,CAACC,EAAG,IAAGD,KAAK,CAACI,MAAO;UAC9F,CAAC;UACD,OAAOR,GAAG;QACZ,CAAC,CAAC;QACF,IAAI,CAACX,QAAQ,CAAC;UAAEoB,UAAU,EAAET,GAAG;UAAEV,KAAK,EAAC;QAAE,CAAC,CAAC;MAC7C,CAAC,CAAC,OAAOoB,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;IACF,CAAC;IA/BC,IAAI,CAACb,KAAK,GAAG;MACXP,KAAK,EAAE,EAAE;MACTmB,UAAU,EAAG;IACf,CAAC;EACH;EA8BAI,MAAMA,CAAA,EAAG;IACN,IAAIC,SAAS,GAAG,IAAI,CAACjB,KAAK,CAACY,UAAU,CAACN,GAAG,CAAED,KAAK,IAAK;MACpD,oBAAOnB,OAAA,CAACF,KAAK;QAAgBkC,IAAI,EAAEb,KAAK,CAACF;MAAI,GAA1BE,KAAK,CAACG,EAAE;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAoB,CAAC;IAClD,CAAC,CAAC;IACF,oBACEpC,OAAA;MAAKqC,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BtC,OAAA;QAAKqC,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAChCtC,OAAA;UAAOuC,IAAI,EAAC,MAAM;UAAC9B,KAAK,EAAE,IAAI,CAACK,KAAK,CAACP,KAAM;UAACiC,QAAQ,EAAE,IAAI,CAACpC;QAAa;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eAC1EpC,OAAA;UAAQyC,OAAO,EAAE,IAAI,CAAC/B,OAAQ;UAAA4B,QAAA,EAAC;QAAc;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjD,CAAC,eACNpC,OAAA;QAAKqC,SAAS,EAAC,OAAO;QAAAC,QAAA,EAAEP;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAErC,CAAC;EAGV;AACF;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}